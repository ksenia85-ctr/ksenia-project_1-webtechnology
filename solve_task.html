<!-- solve_task.html -->
<!DOCTYPE html>
<html lang="ru">

<head>
    <!-- Устанавливаем кодировку документа как UTF-8 -->
    <meta charset="UTF-8">
    <!-- Заголовок страницы, который отображается в вкладке браузера -->
    <title>Решение алгоритмической задачи</title>
    <!-- Подключаем файл стилей styles.css -->
    <link rel="stylesheet" href="styles.css">
    <!-- Подключаем шрифт Roboto с Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
</head>

<body>
    <!-- Контейнер для меню навигации слева сверху -->
    <div class="nav-left-container"></div>

    <div class="container">
        <!-- Заголовок третьего уровня для раздела "Решение алгоритмической задачи" -->
        <h3>Решение алгоритмической задачи</h3>
        <!-- Параграф с формулировкой задачи -->
        <p name="formulation">Дано вещественное число A. Вычислить \(x = a^2 + 4 + 5\) при \(a < 62\); в противном
                случае \(x=\frac{1}{a^2} + 4a + 5\). Если все условия выполнены, отправить все на сервер.</p>
                <!-- Форма для ввода данных и отправки на сервер -->
                <form action="https://www.example.com/submit" id="taskForm" name="taskForm" target="_blank">
                    <ul>
                        <!-- Список элементов формы -->
                        <li>Формулировка задачи:<br>
                            <textarea cols="60" rows="4" id="task"
                                name="formulation">Дано вещественное число A. Вычислить x = a^2 + 4 + 5 при a < 62; в противном случае x = 1/a^2 + 4a + 5. Если все условия выполнены, отправить все на сервер.</textarea>
                        </li>
                        <!-- Поле ввода для числа A -->
                        <li>A: <input id="a" name="a" type="number" step="any" value="50"></li>
                        <!-- Поле для отображения результата решения задачи (только для чтения) -->
                        <li>Результат решения задачи: <input id="result" name="result" value="не определен" readonly>
                        </li>
                        <!-- Кнопка для проверки вычисления -->
                        <li>Действие 1: <input id="verify" type="button" value="Проверить"></li>
                        <!-- Кнопка для отправки данных на сервер -->
                        <li>Действие 2: <input id="send" type="button" value="Отправить"></li>
                    </ul>
                </form>
    </div>

    <!-- Подключаем файл скриптов script.js -->
    <script src="script.js"></script>
    <script>
        // Переменная для хранения результата вычисления
        let result;
        // Переменная для проверки выполнения вычисления
        let check;

        // Функция для проверки вычисления
        function verify() {
            // Получение значения числа A из поля ввода и преобразование его в число с плавающей точкой
            const a = parseFloat(document.getElementById('a').value);
            // Проверка, является ли введенное значение числом
            if (isNaN(a)) {
                alert("Введите корректное значение A");
                return;
            }

            // Вычисление значения x в зависимости от условия
            if (a < 62) {
                result = Math.pow(a, 2) + 4 + 5;
            } else {
                result = 1 / Math.pow(a, 2) + 4 * a + 5;
            }

            // Запись результата в поле вывода
            document.getElementById('result').value = result;
            // Установка флага, что проверка выполнена
            check = true;
        }

        // Функция для отправки данных на сервер
        function send() {
            // Проверка, выполнена ли проверка вычисления
            if (check) {
                // Отправка формы на сервер
                document.getElementById('taskForm').submit();
            } else {
                alert("Пожалуйста, сначала выполните проверку.");
            }
        }

        // Добавление обработчика события 'click' для кнопки "Проверить"
        const elementVerify = document.getElementById('verify');
        elementVerify.addEventListener('click', verify);

        // Добавление обработчика события 'click' для кнопки "Отправить"
        const elementSend = document.getElementById('send');
        elementSend.addEventListener('click', send);
    </script>
</body>

</html>